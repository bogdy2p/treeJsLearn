<!DOCTYPE html>
<html lang="en">
    <head>
        <title>three.js webgl - InnoKin Sketch</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
        <style>
            body {
                color: #cccccc;
                font-family:Monospace;
                font-size:13px;
                text-align:center;

                background-color: #000000;
                margin: 0px;
                overflow: hidden;
            }

            #info {
                position: absolute;
                top: 0px; width: 100%;
                padding: 5px;
            }

            a {

                color: #0080ff;
            }

            #leftcontrols {
                position: absolute;
                bottom: 0px; width: 100%;
                height: 30px;
                padding: 5px;
                background-color: #FF66FF;
                /*z-index: 1000;*/
            }
        </style>
    </head>
    <body>

        <div id="container"></div>
        <div id="info">
            <a href="http://threejs.org" target="_blank">three.js</a> webgl - Innoking sketch  - by <a href="https://twitter.com/fernandojsg">ThePBC</a>
        </div>
        <div id ="leftcontrols">

            <button id="btn1" onclick="removeBattery();">Button1-RemoveBattery</button>

            <button id="btn2" onclick="test();">Button2</button>
            <button id="btn3" onclick="butonmic1();">Button mic 1</button>
            <button id="btn4" onclick="butonmic2();">Button mic 2</button>
            <button id="btn5" onclick="sticla();">STICLA</button>
            <button id="btn6" onclick="disrupter();">DISRUPTOR</button>





            aAAAAAAAAAAAAAAAAAAAAAA
        </div>
        <div id ="rightcontrols"></div>


        <!--<script src="js/libs/dat.gui.min.js"></script>-->
        <script src="js/three.min.js"></script>
        <script type="text/javascript" src="js/RequestAnimationFrame.js"></script>
        <script src="js/OrbitControls.js"></script>
        <script src="js/libs/stats.min.js"></script>
        <script src ="js/ColladaLoader.js"></script>
        <script src="js/Tween.js"></script>
        <script src="dat-gui/build/DAT.GUI.js"></script>

        <script>

                var group, group1, group2, group3;


                var disruptor;
                var battery;
                var container, stats;
                var leftControls, rightControls;
                var particlesData = [];
                var camera, scene, renderer, raycaster, camera2;
                var positions, colors;
                var pointCloud;
                var particlePositions;
                var linesMesh;
                var mouseX = 0, mouseY = 0;
                var mouseXOnMouseDown = 0;
                var SCREEN_WIDTH, SCREEN_HEIGHT;
                var targetRotation = 0;
                var actuatorCylinder, minusButtonCylinder, plusButtonCylinder, filtruTigara, chargerCube, disrupterCube;
                var targetRotationOnMouseDown = 0;
                var windowHalfX = window.innerWidth / 2;
                var windowHalfY = window.innerHeight / 2;
                var pointLight;


                var chargerMaterial;

                var duration1 = 1000; //miliseconds
                var duration2 = 2000; //miliseconds
                var duration3 = 3000; //miliseconds
                var duration4 = 4000; //miliseconds
                var duration5 = 5000; //miliseconds
                var currentTime;
                var timeSpent = 0;
                var tweenBatteryOut, tweenBatteryIn, tweenBatteryUp, tweenBatteryDown;
                var startTime = Date.now();


                var userOpts = {
                    liftoff: 20,
                    range: 2000,
                    duration: 1500,
                    delay: 0,
                    easing: 'Exponential.EaseIn',
                    quintic_in: 'Quintic.EaseOut',
                }


                document.addEventListener('mousemove', onDocumentMouseMove, false);
                init();
                animate();

                function setupTweenBatteryOut()
                {
                    // 
                    var update = function () {
                        chargerCube.position.y = current.y;
                        chargerCube.position.x = current.x;
                    }
                    var current = {x: 15, y: 0};

                    // remove previous tweens if needed
                    TWEEN.removeAll();

                    // convert the string from dat-gui into tween.js functions 
                    var easing2 = TWEEN.Easing[userOpts.easing.split('.')[0]][userOpts.easing.split('.')[1]];
                    console.log(easing2);
//                    console.log(easing);
//                    
//                    
//                    
                    // build the tween lift the battery from the support

                    tweenBatteryUp = new TWEEN.Tween(current)
                            .to({y: +userOpts.liftoff}, userOpts.duration / 2)
                            .delay(userOpts.delay)
                            .easing(easing2)
                            .onUpdate(update);



                    tweenBatteryOut = new TWEEN.Tween(current)
                            .to({x: +userOpts.range}, userOpts.duration)
                            .delay(userOpts.delay)
                            .easing(easing2)
                            .onUpdate(update);

                    tweenBatteryUp.chain(tweenBatteryOut);

                    // start the first
//                    tweenHead.start();
                }

                function setupTweenBatteryIn()
                {
                    // 
                    var complete = function () {
                        console.log("BATTERY ATTACHED. PLAYING A CLICK SOUND !");
                        setTimeout(function () {
                            alert("PLAYING CLICK SOUND NOW");
                        }, 300);

                    }

                    var update = function () {
                        chargerCube.position.x = current.x;
                        chargerCube.position.y = current.y;
                    }
                    var current = {x: 2000, y: userOpts.liftoff};

                    // remove previous tweens if needed
                    TWEEN.removeAll();

                    // convert the string from dat-gui into tween.js functions 
                    var easing = TWEEN.Easing[userOpts.easing.split('.')[0]][userOpts.easing.split('.')[1]];

                    var quintic = TWEEN.Easing[userOpts.quintic_in.split('.')[0]][userOpts.quintic_in.split('.')[1]];
//                    console.log(easing);
                    // build the tween to go ahead
                    tweenBatteryIn = new TWEEN.Tween(current)
                            .to({x: 15, y: userOpts.liftoff}, userOpts.duration)
                            .delay(userOpts.delay)
                            .easing(quintic)
                            .onUpdate(update);
                    // build the tween to go backward
                    tweenBatteryDown = new TWEEN.Tween(current)
                            .to({x: 15, y: 0}, userOpts.duration / 2)
                            .delay(userOpts.delay)
                            .easing(easing)
                            .onUpdate(update)
                            .onComplete(complete);
//                    var tweenBack = new TWEEN.Tween(current)
//                            .to({x: -userOpts.range}, userOpts.duration)
//                            .delay(userOpts.delay)
//                            .easing(easing)
//                            .onUpdate(update);
                    tweenBatteryIn.chain(tweenBatteryDown);
                    // after tweenHead do tweenBack
//                    tweenHead.chain(tweenBack);
                    // after tweenBack do tweenHead, so it is cycling
//                    tweenBack.chain(tweenHead);

                    // start the first
//                    tweenHead.start();
                }

                function setupTweenFilterRotate()
                {
                    // 
                    var update = function () {
                        filtruTigara.rotation.y = current.rotY;
                        filtruTigara.position.x = current.x;
                        filtruTigara.position.y = current.y;
                    }
                    var current = {x: 2000, y: userOpts.liftoff, rotY: 0};

                    // remove previous tweens if needed
                    TWEEN.removeAll();

                    // convert the string from dat-gui into tween.js functions 
                    var easing = TWEEN.Easing[userOpts.easing.split('.')[0]][userOpts.easing.split('.')[1]];

                    var quintic = TWEEN.Easing[userOpts.quintic_in.split('.')[0]][userOpts.quintic_in.split('.')[1]];
//                    console.log(easing);
                    // build the tween to go ahead
//                    tweenFilterRotate = new TWEEN.Tween(current)
//                            .to({x: 15, y: userOpts.liftoff}, userOpts.duration)
//                            .delay(userOpts.delay)
//                            .easing(quintic)
//                            .onUpdate(update);
                    // build the tween to go backward
//                    tweenBatteryDown = new TWEEN.Tween(current)
//                            .to({x: 15, y: 0}, userOpts.duration / 2)
//                            .delay(userOpts.delay)
//                            .easing(easing)
//                            .onUpdate(update);
//                    var tweenBack = new TWEEN.Tween(current)
//                            .to({x: -userOpts.range}, userOpts.duration)
//                            .delay(userOpts.delay)
//                            .easing(easing)
//                            .onUpdate(update);
//                    tweenBatteryIn.chain(tweenBatteryDown);
                    // after tweenHead do tweenBack
//                    tweenHead.chain(tweenBack);
                    // after tweenBack do tweenHead, so it is cycling
//                    tweenBack.chain(tweenHead);

                    // start the first
//                    tweenHead.start();
                }

                function setupTweenFilterGoUp()
                {
                    // 
                    var update = function () {
                        chargerCube.position.x = current.x;
                        chargerCube.position.y = current.y;
                    }
                    var current = {x: 2000, y: userOpts.liftoff};

                    // remove previous tweens if needed
                    TWEEN.removeAll();

                    // convert the string from dat-gui into tween.js functions 
                    var easing = TWEEN.Easing[userOpts.easing.split('.')[0]][userOpts.easing.split('.')[1]];

                    var quintic = TWEEN.Easing[userOpts.quintic_in.split('.')[0]][userOpts.quintic_in.split('.')[1]];
//                    console.log(easing);
                    // build the tween to go ahead
                    tweenBatteryIn = new TWEEN.Tween(current)
                            .to({x: 15, y: userOpts.liftoff}, userOpts.duration)
                            .delay(userOpts.delay)
                            .easing(quintic)
                            .onUpdate(update);
                    // build the tween to go backward
                    tweenBatteryDown = new TWEEN.Tween(current)
                            .to({x: 15, y: 0}, userOpts.duration / 2)
                            .delay(userOpts.delay)
                            .easing(easing)
                            .onUpdate(update);
//                    var tweenBack = new TWEEN.Tween(current)
//                            .to({x: -userOpts.range}, userOpts.duration)
//                            .delay(userOpts.delay)
//                            .easing(easing)
//                            .onUpdate(update);
                    tweenBatteryIn.chain(tweenBatteryDown);
                    // after tweenHead do tweenBack
//                    tweenHead.chain(tweenBack);
                    // after tweenBack do tweenHead, so it is cycling
//                    tweenBack.chain(tweenHead);

                    // start the first
//                    tweenHead.start();
                }

                function setupTweenFilterGoOut()
                {
                    // 
                    var update = function () {
                        chargerCube.position.x = current.x;
                        chargerCube.position.y = current.y;
                    }
                    var current = {x: 2000, y: userOpts.liftoff};

                    // remove previous tweens if needed
                    TWEEN.removeAll();

                    // convert the string from dat-gui into tween.js functions 
                    var easing = TWEEN.Easing[userOpts.easing.split('.')[0]][userOpts.easing.split('.')[1]];

                    var quintic = TWEEN.Easing[userOpts.quintic_in.split('.')[0]][userOpts.quintic_in.split('.')[1]];
//                    console.log(easing);
                    // build the tween to go ahead
                    tweenBatteryIn = new TWEEN.Tween(current)
                            .to({x: 15, y: userOpts.liftoff}, userOpts.duration)
                            .delay(userOpts.delay)
                            .easing(quintic)
                            .onUpdate(update);
                    // build the tween to go backward
                    tweenBatteryDown = new TWEEN.Tween(current)
                            .to({x: 15, y: 0}, userOpts.duration / 2)
                            .delay(userOpts.delay)
                            .easing(easing)
                            .onUpdate(update);
                    colladaLoader
//                    var tweenBack = new TWEEN.Tween(current)
//                            .to({x: -userOpts.range}, userOpts.duration)
//                            .delay(userOpts.delay)
//                            .easing(easing)
//                            .onUpdate(update);
                    tweenBatteryIn.chain(tweenBatteryDown);
                    // after tweenHead do tweenBack
//                    tweenHead.chain(tweenBack);
                    // after tweenBack do tweenHead, so it is cycling
//                    tweenBack.chain(tweenHead);

                    // start the first
//                    tweenHead.start();
                }

                function init() {

                    container = document.getElementById('container');

                    SCREEN_WIDTH = window.innerWidth;
                    SCREEN_HEIGHT = window.innerHeight;
                    camera = new THREE.PerspectiveCamera(50, window.innerWidth / window.innerHeight, 1, 1000);
                    camera.position.x = 100;
                    camera.position.z = 100;
                    camera.position.y = 100;

                    raycaster = new THREE.Raycaster();
                    // LIGHTS

                    controls = new THREE.OrbitControls(camera, container);
                    controls.noZoom = false;
                    controls.minDistance = 15;
                    controls.maxDistance = 200;
                    controls.noPan = true;

                    scene = new THREE.Scene();


//                    var ambientLight = new THREE.AmbientLight(0x222222, 0.2);
//                  scene.add(ambientLight);

//                    var dirLight = new THREE.DirectionalLight(0xffffff, 0.125);
//                    dirLight.position.set(0, 0, 1).normalize();
//                  scene.add(dirLight);

                    pointLight = new THREE.PointLight(0xffffff, 1);
                    pointLight.position.set(0, 100, 90);
                    scene.add(pointLight);
                    group = new THREE.Group();
                    scene.add(group);



//                    
//                    group1 = new THREE.Group();
//                    group.add(group1);
//                    group2 = new THREE.Group();
//                    group.add(group2);
//                    group3 = new THREE.Group();
//                    group.add(group3);

                    ///////ADD FILTRU



                    //load the 3d Model files
                    //////////////////////////////////////////////
                    load3Dmodels();
                    //////////////////////////////////////////////
                    // Add Charger 
                    //Grosime,Lungime,Latime
                    setTimeout(function () {
                        basicColorize();
                    }, 1800);


                    var axisHelper = new THREE.AxisHelper(25);
                    scene.add(axisHelper);
//                    asdmaterial = new THREE.MeshFaceMaterial([
//                        new THREE.MeshPhongMaterial({color: 0xffff00, shading: THREE.FlatShading}), // front
//                        new THREE.MeshPhongMaterial({color: 0xffffff, shading: THREE.SmoothShading}) // side
//                    ]);
//
//
//                    var tetra = new THREE.Mesh(
//                            new THREE.TetrahedronGeometry(10, 0),
//                            asdmaterial
//                            );
////                    tetra.position.y = 100;
////                    tetra.rotation.x = -Math.PI / 2;
//                    scene.add(tetra);



                    renderer = new THREE.WebGLRenderer({antialias: true});
                    renderer.setClearColor(0xffffff, 0.4);
                    renderer.setPixelRatio(window.devicePixelRatio);
                    renderer.setSize(window.innerWidth, window.innerHeight);
                    renderer.gammaInput = true;
                    renderer.gammaOutput = true;
                    container.appendChild(renderer.domElement);

                    stats = new Stats();
                    stats.domElement.style.position = 'absolute';
                    stats.domElement.style.top = '0px';
                    container.appendChild(stats.domElement);
                    renderer.domElement.addEventListener('mousedown', onDocumentMouseDown, false);
                    renderer.domElement.addEventListener('touchstart', onDocumentTouchStart, false);
                    renderer.domElement.addEventListener('touchmove', onDocumentTouchMove, false);
                    window.addEventListener('resize', onWindowResize, false);
                }

                function onWindowResize() {

                    windowHalfX = window.innerWidth / 2;
                    windowHalfY = window.innerHeight / 2;
                    camera.aspect = window.innerWidth / window.innerHeight;
                    camera.updateProjectionMatrix();
                    renderer.setSize(window.innerWidth, window.innerHeight);
                }

                function animate() {
                    render();
                    requestAnimationFrame(animate);

                    stats.update();
                    TWEEN.update();

                }

                function onDocumentMouseDown(event) {
                    event.preventDefault();
                    renderer.domElement.addEventListener('mousemove', onDocumentMouseMove, false);
                    renderer.domElement.addEventListener('mouseup', onDocumentMouseUp, false);
                    renderer.domElement.addEventListener('mouseout', onDocumentMouseOut, false);

                    var mouseVector = new THREE.Vector3();
                    mouseVector.x = 2 * (event.clientX / SCREEN_WIDTH) - 1;
                    mouseVector.y = 1 - 2 * (event.clientY / SCREEN_HEIGHT);

                    raycaster.setFromCamera(mouseVector, camera);

                    var intersectedObjects = raycaster.intersectObjects(scene.children);

                    if (intersectedObjects.length > 0) {

                        var Object = intersectedObjects[0];

                        switch (Object.object.id) {

                            case 8:
                                console.log("That's the battery mate!");
                                break;
                            case 9:
                                console.log("You clicked the disruptor");
                                break;
                            case 10:
                                console.log("Lighter should START");
                                startButtonClick();

                                break;
                            case 11:
                                console.log("You pressed the +");
                                plusButtonClick();

                                break;
                            case 12:
                                console.log("You pressed the -");
                                minusButtonClick();
                                break;
                            case 13:
                                console.log("Why did you click the screen ?");
                                break;
                            case 14:
                                console.log("Why click the Filter ?");
                                break;
                            default:
                                console.log("nothing clicked");
                                break;
                        }

                    }


                }



                function onDocumentMouseMove(event) {

                    mouseX = event.clientX - windowHalfX;
                    targetRotationX = targetRotationOnMouseDown + (mouseX - mouseXOnMouseDown) * 0.002;
                }

                function onDocumentMouseUp(event) {
                    renderer.domElement.addEventListener('mousemove', onDocumentMouseMove, false);
                    renderer.domElement.addEventListener('mouseup', onDocumentMouseUp, false);
                    renderer.domElement.addEventListener('mouseout', onDocumentMouseOut, false);
                    resetButtonPositions();


                }

                function onDocumentMouseOut(event) {
                    renderer.domElement.addEventListener('mousemove', onDocumentMouseMove, false);
                    renderer.domElement.addEventListener('mouseup', onDocumentMouseUp, false);
                    renderer.domElement.addEventListener('mouseout', onDocumentMouseOut, false);
                }

                function onDocumentTouchStart(event) {
//                    alert("TOUCH DETECTED");
//                    alert(event);
                }

                function onDocumentTouchMove(event) {
//                    alert("TOUCH MOVEMENT DETECTED");
                }

                function startButtonClick() {

                    console.log("ENTERED STARTBUTTON CLICKED");
                    actuatorCylinder.position.x += 1;
                }

                function plusButtonClick() {
                    console.log("plusbuttonclick function");
                    plusButtonCylinder.position.x += 1;
                }

                function minusButtonClick() {
                    console.log("Minusbutton click function");
                    minusButtonCylinder.position.x += 1;
                }

                function resetButtonPositions() {

//                    actuatorCylinder.position.x = -7;
//                    minusButtonCylinder.position.x = -7;
//                    plusButtonCylinder.position.x = -7;

                }

                function render() {

                    var time = Date.now() * 0.001;
                    camera.lookAt(scene.position);
//                    group.rotation.y = time * 0.1;


                    renderer.render(scene, camera);
                    var newlightposition = camera.position;
                    pointLight.position.set(camera.position.x, camera.position.y, camera.position.z);
                }


                function removeBattery() {
                    setupTweenBatteryOut();
                    setupTweenBatteryIn();
                    tweenBatteryUp.start();
                    setTimeout(function () {
                        var newChargerMaterial = new THREE.MeshPhongMaterial({color: 0x666677, shininess: 10, specular: 0x990000, metal: true, side: 2});
                        chargerCube.material = newChargerMaterial;
                    }, 2400);
                    setTimeout(function () {
                        tweenBatteryOut.stop();
                        tweenBatteryIn.start();
                    }, 3000);
                    setTimeout(function () {
                        tweenBatteryIn.stop();
                    }, 4700);
                    setTimeout(function () {
//                        alert("Click sound");
                    }, 5200);
                }

                function removeFilter() {

                    setupTweenFilterRotate();
                    setupTweenFilterGoUp();
                    setupTweenFilterGoOut();

                }


                function test() {

//                    asd = scene.children[1].children[3].children[2].children[0].material.materials;
//
//                    a = scene.children[1];
//                    console.log(a);
//
//
//                    bigbuttonMaterial = scene.children[0];
//
//
//                    color = new THREE.Color(255, 00, 00);
//                    asd[0].color = color;
//                    asd[1].color = color;
//                    asd[2].color = color;
//                    asd[0].setColor(30,200,00);
//                    asd[1].setColor(30,200,00);
//                    asd[2].color = { 30, 200, 00};
//                            asd[1].color = { 30, 200, 00};
//                            asd[0].color = { 30, 200, 00};
//                    asd[2].material = chargerMaterial;
//                    asd[1].material = chargerMaterial;
//                    console.log(asd[0]);

//                    console.log(scene.children[1].children[3].children[2]);
                }



                function butonmic1() {

                    var butonmic1 = scene.children[1].children[2];
                    console.log(butonmic1);

                }

                function butonmic2() {

                    var butonmic2 = scene.children[1].children[2];
                    console.log(butonmic2);

                }


                function sticla() {
                    var glass = scene.children[1].children[6].children[2].children[0];
//                    console.log(glass);
                    var redcolor = new THREE.Color(255, 00, 00);
                    // create a transparent material.

                    var glassMaterial = new THREE.MeshPhongMaterial({color: 0x8800ff, shininess: 3, specular: 0x333333, transparent: true, opacity: 0.4});


                    glass.material = glassMaterial;

//                    sticla.material.color = redcolor;


                }

                function disrupter() {


                    console.log(scene);

//                    var number = 11;
//                    var redcolor = new THREE.Color(255, 00, 00);
//                    var disruptor = scene.children[1].children[number].children[2].children[0];
//
//
//                    console.log(scene.children[1].children);
//
//                    var testMaterial = new THREE.MeshPhongMaterial({color: 0x8800ff, shininess: 3, specular: 0x999999, transparent: true, opacity: 1});
////
//                    disruptor.material = testMaterial;
//                    disruptor.material.color = redcolor;
//                    disruptor.position.x = 10;
                }




                function load3Dmodels() {


                    var objectScale = 2;


                    var colladaLoader = new THREE.ColladaLoader();



                    //LOADING ORDER
                    //1. DISRUPTOR
                    //2. BATTERY
                    //3. BATTERYCASE
                    //4. SIPCA FILTRU
                    //5. STICLA FILTRU
                    //6. ECRAN 
                    //7. BUTON MARE
                    //8. BUTONMIC1
                    //9. BUTONMIC2
                    //10.FILET MECANISM BATERIE
                    //11.FILTE SIPCA
                    //12.LOGO EXTERN
                    colladaLoader.load('js/daes/MecanismTigara.dae', function colladaReady(collada) {
                        disruptor = collada.scene;
                        disruptorSkin = collada.skins[0];
                        group.add(disruptor);
                    });
                    colladaLoader.load('js/daes/Baterie.dae', function colladaReady(collada) {
                        battery = collada.scene;
                        batterySkin = collada.skins[0];
                        group.add(battery);

                        battery.position.z = 4;
                        battery.position.x = 3.5;

                    });
                    colladaLoader.load('js/daes/CapacBaterie.dae', function colladaReady(collada) {
                        batterySupport = collada.scene;
                        batterySupportSkin = collada.skins[0];
                        group.add(batterySupport);
                        batterySupport.position.x = 5;
                        batterySupport.position.z = 0.3;
//                    
                    });
                    colladaLoader.load('js/daes/Sipca.dae', function colladaReady(collada) {
                        sipca = collada.scene;
                        sipcaSkin = collada.skins[0];
                        group.add(sipca);
//                       
                        sipca.position.x = 1.5;

                    });
                    colladaLoader.load('js/daes/Sticla.dae', function colladaReady(collada) {
                        sticla = collada.scene;
                        sticlaSkin = collada.skins[0];
                        group.add(sticla);

                        sticla.position.x = 1.5;
//    


                    });
                    colladaLoader.load('js/daes/RamaEcran.dae', function colladaReady(collada) {
                        ecran = collada.scene;
                        ecranSkin = collada.skins[0];
                        group.add(ecran);
                        ecran.position.z = 4.5;
                        ecran.position.y = -0.15;
                        ecran.position.x = -5;
//                    

                    });
                    colladaLoader.load('js/daes/ButonMare.dae', function colladaReady(collada) {
                        bigButon = collada.scene;
                        bigButonSkin = collada.skins[0];

                        group.add(bigButon);
                        bigButon.position.z = -4.05;
                        bigButon.position.y = -0.05;
                        bigButon.position.x = 1.5;
                    });
                    colladaLoader.load('js/daes/ButonMic1.dae', function colladaReady(collada) {
                        buttonSmall1 = collada.scene;
                        buttonSmall1Skin = collada.skins[0];
                        group.add(buttonSmall1);
                        buttonSmall1.position.z = -4.05;
                        buttonSmall1.position.y = -0.05;
                        buttonSmall1.position.x = 1.5;
                    });
                    colladaLoader.load('js/daes/ButonMic2.dae', function colladaReady(collada) {
                        buttonSmall2 = collada.scene;
                        buttonSmall2Skin = collada.skins[0];
                        group.add(buttonSmall2);
                        buttonSmall2.position.z = -4.05;
                        buttonSmall2.position.y = -0.05;
                        buttonSmall2.position.x = 1.5;
                    });
                    colladaLoader.load('js/daes/ButonInterior.dae', function colladaReady(collada) {
                        interiorButton = collada.scene;
                        interiorButtonSkin = collada.skins[0];
                        group.add(interiorButton);
                    });
                    colladaLoader.load('js/daes/FiletMecanismBaterie.dae', function colladaReady(collada) {
                        batteryThread = collada.scene;
                        batteryThreadSkin = collada.skins[0];
                        group.add(batteryThread);
                        batteryThread.position.x = 1.5;
                    });
                    colladaLoader.load('js/daes/FiletSipca.dae', function colladaReady(collada) {
                        sipcaThread = collada.scene;
                        sipcaThreadSkin = collada.skins[0];
                        group.add(sipcaThread);
                        sipcaThread.position.x = 1.5;
                    });
                    colladaLoader.load('js/daes/Logo.dae', function colladaReady(collada) {
                        logo = collada.scene;
                        logoSkin = collada.skins[0];
                        group.add(logo);
                        logo.position.x = 3;
                        logo.position.z = -4;
                        logo.position.y = -0.2;
                    });
//                    group.position.x = 20;
                    group.position.z = -20;
                    group.scale.x = 2;
                    group.scale.y = 2;
                    group.scale.z = 2;
                }




                function basicColorize() {

//                    alert("BASIC COLORIZING");
//                    var i = 6;




//                    console.log(scene.children[1]);
//                    for (i = 7; i < 13; i++) {
//                    var object = scene.children[1].children[i]; //.children[2];
//                        console.log(object);



//                    }


///                    object.position.x = 0;

                    //0 = STICLA
                    //1 = rama_ecran
                    //2 = buton_mare
                    //3- buton_mic_1
                    //4- buton_interior
                    //5- buton_mic_2
                    //7 -baterie
                    //8 = Cylinder001
                    //9 = LOGO
                    //10 = Object004
                    //11 = Object005 
                    // 12 = mecanism_tigara


                    var capac_baterie = scene.children[1].children[6];
                    var capac_baterie_mesh = capac_baterie.children[0];

//                    console.log(capac_baterie_mesh);
//                    capac_baterie_mesh.position.x = 5;
//                    capac_baterie_mesh.position.y= 40;
                    var mecanism_tigara = scene.children[1].children[12];
                    var mecanism_tigara_mesh = mecanism_tigara.children[2].children[0];
//                    console.log(mecanism_tigara_mesh);
                    var redcolor = new THREE.Color(255, 00, 00);

                    var testMaterial = new THREE.MeshPhongMaterial({color: 0x999999, shininess: 8, specular: 0x999999, metal: true, transparent: true, opacity: 1});
                    mecanism_tigara_mesh.material = testMaterial;




                    var ecran = scene.children[1].children[1].children[2];
                    var ecran_mesh = ecran.children;
//                 


                    var butonMare = scene.children[1].children[2].children[2];
                    butonMare_mesh = butonMare.children;




                    var butonMic1 = scene.children[1].children[3].children[2];
                    butonMic1_mesh = butonMic1.children;
//                    butonMic1.position.z = -4.05;
//                    butonMic1.position.y = -0.05;
//                    butonMic1.position.x = 1.5;

                    var butonMic2 = scene.children[1].children[5].children[2];
                    butonMic2_mesh = butonMic2.children;





                }













        </script>
    </body>
</html>


<!--6 is the glass--> 

<!--7 is the filter without the bottle.-->

<!--8 is something small... some thread , and so is 9 ! ?-->

<!--10 is the battery cover/support-->

<!--11 is the actual mechanism / vaporizer / disruptor-->


<!--5 is bottom small button.-->

<!--4 is  the actual battery-->

<!--3 is the INNOKIN DISRUPTOR TEXT-->

<!--2 is the middle small button-->

<!--1 is the BIG BUTTON-->

<!--0 is UNKNOWN (BACK OF BUTTON BIG-->
